<head>
    <link rel="stylesheet" type="text/css" media="screen" href="refactorcss/base.css">
    <link rel="stylesheet" type="text/css" media="screen" href="refactorcss/display.css">
    <link rel="stylesheet" type="text/css" media="screen" href="refactorcss/tables.css">
    <link rel="stylesheet" type="text/css" media="screen" href="refactorcss/navigation.css">
    <link rel="stylesheet" type="text/css" media="screen" href="refactorcss/features.css">
    <link rel="stylesheet" type="text/css" media="screen" href="refactorcss/reasons.css">
    <link rel="stylesheet" type="text/css" media="screen" href="refactorcss/arrows.css">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    
    <script src="scripts/parsed_query_display.js"></script>
    <script src="scripts/table_display.js"></script>
    <script src="scripts/resize.js"></script>
    <script src="scripts/collapse.js"></script>
    <script src="scripts/navigation.js"></script>
    <script src="scripts/reasons.js"></script>
    <script src="scripts/lines.js"></script>
    <script src="scripts/testcases/globaltables.js"></script>
<script>var pq = ['{"steps": ["{\\"namespace\\": [], \\"executable_sql\\": \\"CREATE VIEW t1 AS ( SELECT * FROM Took );\\", \\"step_number\\": \\"1\\", \\"sql_chunk\\": \\"CREATE VIEW t1 AS ( SELECT * FROM Took )\\", \\"input_tables\\": [], \\"result_table\\": \\"t1\\"}", "{\\"namespace\\": [], \\"executable_sql\\": \\"SELECT * FROM Took;\\", \\"step_number\\": \\"1.1\\", \\"sql_chunk\\": \\"SELECT * FROM Took\\", \\"input_tables\\": [], \\"result_table\\": \\"1.1\\"}", "{\\"namespace\\": [[\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]]], \\"executable_sql\\": \\"SELECT * FROM Took;\\", \\"step_number\\": \\"1.1.1\\", \\"sql_chunk\\": \\"FROM Took\\", \\"input_tables\\": [], \\"result_table\\": \\"Took\\"}", "{\\"namespace\\": [[\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]]], \\"executable_sql\\": \\"SELECT * FROM Took;\\", \\"step_number\\": \\"1.1.2\\", \\"sql_chunk\\": \\"SELECT *\\", \\"input_tables\\": [\\"Took\\"], \\"result_table\\": \\"1.1.2\\"}", "{\\"namespace\\": [], \\"executable_sql\\": \\"CREATE VIEW t1 AS ( SELECT * FROM Took );\\", \\"step_number\\": \\"1.2\\", \\"sql_chunk\\": \\"CREATE VIEW t1 AS ( SELECT * FROM Took )\\", \\"input_tables\\": [\\"1.1.2\\"], \\"result_table\\": \\"t1\\"}"], "tables": {"1.1.2": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.1.2\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"Took\\", \\"reasons\\": []}", "t1": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.2\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"t1\\", \\"reasons\\": []}", "1.1": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.1\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"Took\\", \\"reasons\\": []}", "Took": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.1.1\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"Took\\", \\"reasons\\": []}"}, "query_text": "CREATE VIEW t1 AS (SELECT * FROM Took);"}', '{"steps": ["{\\"namespace\\": [], \\"executable_sql\\": \\"CREATE VIEW t2 AS ( SELECT * FROM Took );\\", \\"step_number\\": \\"1\\", \\"sql_chunk\\": \\"CREATE VIEW t2 AS ( SELECT * FROM Took )\\", \\"input_tables\\": [], \\"result_table\\": \\"t2\\"}", "{\\"namespace\\": [], \\"executable_sql\\": \\"SELECT * FROM Took;\\", \\"step_number\\": \\"1.1\\", \\"sql_chunk\\": \\"SELECT * FROM Took\\", \\"input_tables\\": [], \\"result_table\\": \\"1.1\\"}", "{\\"namespace\\": [[\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]]], \\"executable_sql\\": \\"SELECT * FROM Took;\\", \\"step_number\\": \\"1.1.1\\", \\"sql_chunk\\": \\"FROM Took\\", \\"input_tables\\": [], \\"result_table\\": \\"Took\\"}", "{\\"namespace\\": [[\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]]], \\"executable_sql\\": \\"SELECT * FROM Took;\\", \\"step_number\\": \\"1.1.2\\", \\"sql_chunk\\": \\"SELECT *\\", \\"input_tables\\": [\\"Took\\"], \\"result_table\\": \\"1.1.2\\"}", "{\\"namespace\\": [], \\"executable_sql\\": \\"CREATE VIEW t2 AS ( SELECT * FROM Took );\\", \\"step_number\\": \\"1.2\\", \\"sql_chunk\\": \\"CREATE VIEW t2 AS ( SELECT * FROM Took )\\", \\"input_tables\\": [\\"1.1.2\\"], \\"result_table\\": \\"t2\\"}"], "tables": {"t2": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.2\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"t2\\", \\"reasons\\": []}", "Took": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.1.1\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"Took\\", \\"reasons\\": []}", "1.1": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.1\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"Took\\", \\"reasons\\": []}", "1.1.2": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.1.2\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"Took\\", \\"reasons\\": []}"}, "query_text": "CREATE VIEW t2 AS (SELECT * FROM Took);"}', '{"steps": ["{\\"namespace\\": [], \\"executable_sql\\": \\"( SELECT * FROM t1 ) UNION ( SELECT * FROM t2 );\\", \\"step_number\\": \\"1\\", \\"sql_chunk\\": \\"( SELECT * FROM t1 ) UNION ( SELECT * FROM t2 )\\", \\"input_tables\\": [], \\"result_table\\": \\"1\\"}", "{\\"namespace\\": [], \\"executable_sql\\": \\"SELECT * FROM t1;\\", \\"step_number\\": \\"1.1\\", \\"sql_chunk\\": \\"SELECT * FROM t1\\", \\"input_tables\\": [], \\"result_table\\": \\"1.1\\"}", "{\\"namespace\\": [[\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"t1\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]]], \\"executable_sql\\": \\"SELECT * FROM t1;\\", \\"step_number\\": \\"1.1.1\\", \\"sql_chunk\\": \\"FROM t1\\", \\"input_tables\\": [], \\"result_table\\": \\"t1\\"}", "{\\"namespace\\": [[\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"t1\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]]], \\"executable_sql\\": \\"SELECT * FROM t1;\\", \\"step_number\\": \\"1.1.2\\", \\"sql_chunk\\": \\"SELECT *\\", \\"input_tables\\": [\\"t1\\"], \\"result_table\\": \\"1.1.2\\"}", "{\\"namespace\\": [], \\"executable_sql\\": \\"SELECT * FROM t2;\\", \\"step_number\\": \\"1.2\\", \\"sql_chunk\\": \\"SELECT * FROM t2\\", \\"input_tables\\": [], \\"result_table\\": \\"1.2\\"}", "{\\"namespace\\": [[\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"t1\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"t2\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]]], \\"executable_sql\\": \\"SELECT * FROM t2;\\", \\"step_number\\": \\"1.2.1\\", \\"sql_chunk\\": \\"FROM t2\\", \\"input_tables\\": [], \\"result_table\\": \\"t2\\"}", "{\\"namespace\\": [[\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"t1\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"t2\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]]], \\"executable_sql\\": \\"SELECT * FROM t2;\\", \\"step_number\\": \\"1.2.2\\", \\"sql_chunk\\": \\"SELECT *\\", \\"input_tables\\": [\\"t2\\"], \\"result_table\\": \\"1.2.2\\"}", "{\\"namespace\\": [[\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"Took\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"t1\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]], [\\"t2\\", [\\"sid\\", \\"ofid\\", \\"grade\\"]]], \\"executable_sql\\": \\"( SELECT * FROM t1 ) UNION ( SELECT * FROM t2 );\\", \\"step_number\\": \\"1.3\\", \\"sql_chunk\\": \\"( SELECT * FROM t1 ) UNION ( SELECT * FROM t2 )\\", \\"input_tables\\": [\\"1.1\\", \\"1.2\\"], \\"result_table\\": \\"1\\"}"], "tables": {"1.2.2": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.2.2\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"t2\\", \\"reasons\\": []}", "1": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1\\", \\"tuples\\": [[3, 1, 80], [4, 1, 60], [2, 2, 92], [1, 4, 73], [1, 2, 87]], \\"t_name\\": \\"t1 UNION t2\\", \\"reasons\\": []}", "1.1": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.1\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"t1\\", \\"reasons\\": []}", "1.1.2": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.1.2\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"t1\\", \\"reasons\\": []}", "t2": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.2.1\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"t2\\", \\"reasons\\": []}", "1.2": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.2\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"t2\\", \\"reasons\\": []}", "t1": "{\\"col_names\\": [\\"sid\\", \\"ofid\\", \\"grade\\"], \\"step\\": \\"1.1.1\\", \\"tuples\\": [[1, 2, 87], [1, 4, 73], [2, 2, 92], [3, 1, 80], [4, 1, 60]], \\"t_name\\": \\"t1\\", \\"reasons\\": []}"}, "query_text": "(SELECT * FROM t1) UNION (SELECT * FROM t2);"}'];</script>    
    <script src="scripts/window.js"></script>
    <script src="scripts/query.js"></script>
    <script src="scripts/step.js"></script>
    <script src="scripts/table.js"></script>
    
    <script src="scripts/loader.js"></script>
</head>
<body>
    <!-- Set up basic template -->
    <div id="bodybag">
        <!-- Table of Content -->
        <div id="leftbar" class="leftbar">
            <div id="toc" class="toc">
                <table id="steps" class="steps">
                </table>
            </div>
            <div id="navbar" class="navbar">
                <div id="stepout" class="navigation stepout"><img src="icons/out.png"></div>
                <div id="back" class="navigation back"><img src="icons/back.png"></div>
                <div id="next" class="navigation next"><img src="icons/next.png"></div>
                <div id="stepin" class="navigation stepin"><img src="icons/in.png"></div>
            </div>
        </div>
        <!-- Display -->
        <div id="workspace" class="workspace">
            <div id="tablespace" class="tablespace">
                <!-- Input -->
                <div id="inbox" class="inbox">
                </div>
                <!-- Output -->
                <div id="outbox" class="outbox">
                </div>
            </div>
            <!-- Hovered Name -->
            <div id="namebox" class="namebox"></div>
            <div id="tablefooter" class="tablefooter">
                <!-- Toggle-able Temporary Tables -->
                <div id="inventory" class="inventory">
                    <div id="inventoryheader" onClick="toggleInventory()" class="inventoryheader">Tables and Views</div>
                    <div id="inventoryspace" class="inventoryspace">
                    </div>
                </div>
                <div id="namespace" class="namespace">
                    <div id="namespaceheader" class="namespaceheader">Namespace</div>
                    <div id="namespacebody" class="namespacebody"></div>
                </div>
            </div>
        </div>
        <div id="canvas" class='canvas'></div>
    </div>
    <div id="tooltip"></div>
</body>
